(window.webpackJsonp=window.webpackJsonp||[]).push([[26,3],{316:function(e,t){function n(e,t,n){var r,o,l,c,f;function v(){var d=Date.now()-c;d<t&&d>=0?r=setTimeout(v,t-d):(r=null,n||(f=e.apply(l,o),l=o=null))}null==t&&(t=100);var d=function(){l=this,o=arguments,c=Date.now();var d=n&&!r;return r||(r=setTimeout(v,t)),d&&(f=e.apply(l,o),l=o=null),f};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(f=e.apply(l,o),l=o=null,clearTimeout(r),r=null)},d}n.debounce=n,e.exports=n},317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raf=t.RAF=void 0;class r{constructor(){this.cbArray=[],this.animation()}on(e){this.cbArray.push(e)}off(e){this.cbArray=this.cbArray.filter((t=>t!==e))}animation(){this.cbArray.forEach((e=>e())),requestAnimationFrame(this.animation.bind(this))}}t.RAF=r;const o=new r;t.raf={on:e=>o.on(e),off:e=>o.off(e)}},318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=t.Resize=void 0;const r=n(316);class o{constructor(){this.cbArray=[],this.init()}bounds(){["resizeHandler"].forEach((e=>{this[e]=this[e].bind(this)}))}init(){this.bounds(),this.debounced=r.debounce(this.resizeHandler,60),window.addEventListener("resize",this.debounced)}resizeHandler(){this.cbArray.forEach((e=>e()))}on(e){e(),this.cbArray.push(e)}off(e){this.cbArray=this.cbArray.filter((t=>t!==e))}destroy(){window.removeEventListener("resize",this.resizeHandler)}}t.Resize=o;const l=new o;t.resize={on:e=>l.on(e),off:e=>l.off(e)}},319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=t.lerp=void 0;t.lerp=(a,b,e)=>a*(1-e)+b*e;t.clamp=(e,a,b)=>Math.max(Math.min(e,Math.max(a,b)),Math.min(a,b))},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewElement=void 0;t.createNewElement=(e,t)=>{const n=document.createElement(e);return n.classList.add(t),n}},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(e,t)=>{const n=new MutationObserver((function(e){for(const n of e)"childList"===n.type&&t()}));return n.observe(e,{childList:!0}),()=>n.disconnect()}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matrixTransform=void 0;t.matrixTransform=(e={})=>{var t,n,r,o,l,c,f;const v={scale:null!==(t=e.scale)&&void 0!==t?t:{x:1,y:1},move:null!==(n=e.move)&&void 0!==n?n:{x:0,y:0,z:0}},p=Object.keys(v).map((e=>"string"==typeof v[e]||"number"==typeof v[e]?{x:v[e],y:v[e],z:v[e]}:v[e]));return`matrix3d(\n    ${null!==(r=p[0].x)&&void 0!==r?r:1},0,0,0,\n    0,${null!==(o=p[0].y)&&void 0!==o?o:1},0,0,\n    0,0,1,0,\n    ${null!==(l=p[1].x)&&void 0!==l?l:0},${null!==(c=p[1].y)&&void 0!==c?c:0},${null!==(f=p[1].z)&&void 0!==f?f:0},1\n    )`}},323:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.matrixTransform=t.mutationObserver=t.createNewElement=t.lerp=t.clamp=t.resize=t.raf=void 0;const o=n(317);Object.defineProperty(t,"raf",{enumerable:!0,get:function(){return o.raf}});const l=n(318);Object.defineProperty(t,"resize",{enumerable:!0,get:function(){return l.resize}});const c=n(319);Object.defineProperty(t,"clamp",{enumerable:!0,get:function(){return c.clamp}}),Object.defineProperty(t,"lerp",{enumerable:!0,get:function(){return c.lerp}});const f=n(320);Object.defineProperty(t,"createNewElement",{enumerable:!0,get:function(){return f.createNewElement}});const v=r(n(321));t.mutationObserver=v.default;const d=n(322);Object.defineProperty(t,"matrixTransform",{enumerable:!0,get:function(){return d.matrixTransform}})},338:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},339:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},344:function(e,t,n){var r=n(4),o=n(33),l=n(76),c=n(345),f=n(218),v=n(6),d=n(17),h=n(61),m=n(7),y=o("Reflect","construct"),w=Object.prototype,x=[].push,O=m((function(){function e(){}return!(y((function(){}),[],e)instanceof e)})),j=!m((function(){y((function(){}))})),P=O||j;r({target:"Reflect",stat:!0,forced:P,sham:P},{construct:function(e,t){f(e),v(t);var n=arguments.length<3?e:f(arguments[2]);if(j&&!O)return y(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return l(x,r,t),new(l(c,e,r))}var o=n.prototype,m=h(d(o)?o:w),P=l(e,m,t);return d(P)?P:m}})},345:function(e,t,n){"use strict";var r=n(1),o=n(5),l=n(34),c=n(17),f=n(21),v=n(60),d=r.Function,h=o([].concat),m=o([].join),y={},w=function(e,t,n){if(!f(y,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";y[t]=d("C,a","return new C("+m(r,",")+")")}return y[t](e,n)};e.exports=d.bind||function(e){var t=l(this),n=t.prototype,r=v(arguments,1),o=function(){var n=h(r,v(arguments));return this instanceof o?w(t,n.length,n):t.apply(e,n)};return c(n)&&(o.prototype=n),o}},346:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(347),o=n.n(r),l=n(338);function c(e,t){if(t&&("object"===o()(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(l.a)(e)}},347:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},351:function(e,t,n){"use strict";function r(e,p){return r=Object.setPrototypeOf||function(e,p){return e.__proto__=p,e},r(e,p)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return o}))},373:function(e,t){e.exports="varying vec2 vUv;\nvarying float vParallax;\n\nuniform sampler2D uTexture;\nuniform float uStrength;\nuniform float uTime;\nuniform float uVisible;\nuniform float uScale;\nuniform float uHover;\n\nvec4 tex(in vec2 st) {\n   return texture2D(uTexture, st);\n}\n\nvoid main() {\n\n   vec2 uv = vUv;\n\n   uv.y += vParallax;\n\n   if(uv.y > 1.) {\n      discard;\n   }\n\n   if(uv.y < 0.) {\n      discard;\n   }\n\n   vec2 newUv = uv;\n\n\n   newUv += (sin(newUv.y * 10. + (uTime / 5.)) / 500.) * (uStrength * 0.20);\n   newUv += (sin(newUv.x * 10. + (uTime / 15.)) / 500.) * (uStrength * 0.20);\n\n   newUv += (sin(newUv.y * 10. + (uTime / 5.)) / 500.) * (uHover * 0.1);\n   newUv += (sin(newUv.x * 10. + (uTime / 15.)) / 500.) * (uHover * 0.1);\n\n   vec2 p = (newUv - vec2(0.5, 0.5)) * (1.0 - uScale) + vec2(0.5, 0.5);\n\n   vec4 img = tex(p);\n\n   vec4 finalTexture = img;\n\n   gl_FragColor = finalTexture * uVisible;\n}\n"},374:function(e,t){e.exports="float parallax(float offset, float scrollHeight, float activator) {\n  float pKoef = 1.;\n  float parallax =  offset / scrollHeight * pKoef * activator;\n\n  return parallax;\n}\n\nvarying vec2 vUv;\nvarying vec2 vDUv;\nvarying float vParallax;\n\nuniform float uStrength;\nuniform float uClicked;\nuniform float uViewportY;\nuniform float uScrollHeight;\nuniform float uOffsetY;\nuniform float uParallax;\n\n\n\nvoid main() {\n  vec3 pos = position;\n  vUv = bgCover(size, resolution, uv);\n  vDUv = uv;\n\n  vParallax = parallax(uOffsetY, uScrollHeight, uParallax);\n\n  vec4 newPosition = modelViewMatrix * vec4(pos, 1.0);\n\n  float scrollValue = -uStrength * 1.5;\n\n  newPosition.z += sin(newPosition.y / uViewportY * 2. * PI) * scrollValue;\n\n  gl_Position = projectionMatrix * newPosition;\n}\n\n\n"},397:function(e,t,n){"use strict";n.r(t),n.d(t,"initImages",(function(){return E}));var r=n(159),o=(n(41),n(11),n(344),n(3)),l=n(161),c=n(162),f=n(338),v=n(339);function d(object,e){for(;!Object.prototype.hasOwnProperty.call(object,e)&&null!==(object=Object(v.a)(object)););return object}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var base=d(e,t);if(base){var desc=Object.getOwnPropertyDescriptor(base,t);return desc.get?desc.get.call(arguments.length<3?e:n):desc.value}},h.apply(this,arguments)}var m=n(351),y=n(346),w=(n(24),n(117)),x=n(323),O=n(359),j=n(373),P=n.n(j),_=n(374),M=n.n(_);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(y.a)(this,n)}}var T=function(e){Object(m.a)(d,e);var t,n,r=S(d);function d(e,t,n){var o;return Object(l.a)(this,d),(o=r.call(this,e,t,n)).textureLoaded=!1,o.onMouseEnter=o.onMouseEnter.bind(Object(f.a)(o)),o.onMouseLeave=o.onMouseLeave.bind(Object(f.a)(o)),o.$el.addEventListener("mouseenter",o.onMouseEnter),o.$el.addEventListener("mouseleave",o.onMouseLeave),o}return Object(c.a)(d,[{key:"createGeometry",value:function(){h(Object(v.a)(d.prototype),"createGeometry",this).call(this,{widthSegments:64,heightSegments:64})}},{key:"uploadTextures",value:(n=Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$el.dataset.src,e.next=3,this.uploadTexture(t);case 3:this.texture=e.sent,this.textureLoaded=!0;case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createMaterial",value:function(){var e={uTexture:{type:"t",value:this.texture},uDistortion:{value:0},uScale:{value:0},uHover:{value:0},uCompleted:{value:0},uStrength:{value:0},uViewportY:{value:window.innerHeight},uScrollPos:{value:0},uScrollHeight:{value:0},uOffsetY:{value:0},uVisible:{value:1},uParallax:{value:+this.$el.dataset.glParallax}};h(Object(v.a)(d.prototype),"createMaterial",this).call(this,{uniforms:e,vertex:M.a,fragment:P.a}),this.$el.classList.contains("img-hidden")&&window.innerWidth>960&&(this.material.uniforms.uVisible.value=0)}},{key:"createMesh",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uploadTextures();case 2:h(Object(v.a)(d.prototype),"createMesh",this).call(this),this.$el.classList.contains("project-1__img")&&(this.material.uniforms.uCompleted.value=1,this.material.uniforms.uClicked.value=1,this.material.uniforms.uParallax.value=1);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"scrollHeight",get:function(){var e;return(null===(e=window.ss)||void 0===e?void 0:e.max)+window.innerHeight||document.querySelector("#scroll-container").scrollHeight}},{key:"scrollPos",get:function(){var e,t,n;return null!==(e=null===(t=window.ss)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.scrolled)&&void 0!==e?e:0}},{key:"velocity",get:function(){var e,t,n,r=null!==(e=null===(t=window.ss)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.target)&&void 0!==e?e:0;return this.isScrolling?this.scrollPos-r:0}},{key:"isScrolling",get:function(){var e,t,n;return null!==(e=null===(t=window.ss)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.scrolling)&&void 0!==e&&e}},{key:"onMouseEnter",value:function(){w.a.to(this.material.uniforms.uHover,{duration:1,value:1,ease:"power2.out"}),w.a.to(this.material.uniforms.uScale,{duration:1,value:.02,ease:"power1.inOut"})}},{key:"onMouseLeave",value:function(){w.a.to(this.material.uniforms.uHover,{duration:1,value:0,ease:"power2.out"}),w.a.to(this.material.uniforms.uScale,{duration:1,value:0,ease:"power2.out"})}},{key:"resize",value:function(){h(Object(v.a)(d.prototype),"resize",this).call(this),this.material&&(this.material.uniforms.uViewportY.value=window.innerHeight)}},{key:"update",value:function(){if(h(Object(v.a)(d.prototype),"update",this).call(this),this.material){var e=this.velocity/250;e=Object(x.lerp)(this.material.uniforms.uStrength.value,e,.08),this.material.uniforms.uStrength.value=e,this.material.uniforms.uScrollHeight.value=this.scrollHeight,this.material.uniforms.uOffsetY.value=this.offset.y}}},{key:"destroy",value:function(){this.$el.removeEventListener("mouseenter",this.onMouseEnter),this.$el.removeEventListener("mouseleave",this.onMouseLeave),this.disposeTexture(this.texture),h(Object(v.a)(d.prototype),"destroy",this).call(this)}}]),d}(O.Figure),E=function(){var e=Object(r.a)(document.querySelectorAll("[data-gl]:not([data-gl-id])")).map((function(img){return{$el:img,Figure:T}}));window.scetch.addFigures(e)}}}]);